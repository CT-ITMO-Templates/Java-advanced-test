# CT-java-advanced-test-template

Это шаблон репозитория, в котором вы можете тестировать свои домашние задания для курса ["Технологии Java"](https://www.kgeorgiy.info/courses/java-advanced/index.html) на всех доступных платформах.

## Настройка и конфигурация

Для того чтобы комфортно пользоваться данным репозиторием он будет использовать такую опцию GIT, как [подмодули](https://git-scm.com/book/ru/v2/Инструменты-Git-Подмодули).

1. Сделайте [форк](https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/working-with-forks/fork-a-repo) этого репозитория себе на аккаунт:
![Скриншот кнопки fork на github](/assets/fork-button.png)
Это нужно чтобы впоследствии легко обновлять этот репозиторий с помощью [sync fork](https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/working-with-forks/syncing-a-fork)
2. Теперь склонируйте уже свой репозиторий с помощью [git clone](https://git-scm.com/docs/git-clone)
3. Далее нужно добавить те самые [подмодули](https://git-scm.com/book/ru/v2/Инструменты-Git-Подмодули). Один для репозитория с вашими решениями, другой для репозитория с тестами.

    1. Создайте **ПРИВАТНЫЙ** пустой репозиторий на [github](https://github.com).
    2. Добавьте его к вашему текущему репозиторию с решениями с помощью

    ```git
    git remote add test <ссылка на созданный репозиторий на github>
    ```

    Теперь можно пушить решения в репозиторий Георгия Александровича с помощью `git push origin`, а в тестовый репозиторий с помощью `git push test`.
    **NOTE:** Дерево коммитов всё-равно будет общее (т.к. это один и тот же репозиторий), поэтому не стоит пушить в тестовый репозиторий то, чего вы не хотите пушить в репозиторий Георгия Александровича.

    3. Перейдите в склонированный репозиторий и выполните:

    ```git
    git submodule add <ссылка на созданный репозиторий на github>
    ```

    Теперь репозиторий с решениями является подмодулем этого. У него своё дерево коммитов и он будет автоматически обновляться после коммитов.

    4. Также выполните:

    ```git
    git submodule add <ссылка на репозиторий с тестами>
    ```

    Ура! Подмодули добавлены!

4. Теперь нужно сгенерировать [Personal Acess Token](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens).
   ![Скриншот кнопки меню](/assets/menu-button.png)
   ![Скриншот кнопки настройки](/assets/settings-button.png)
   ![Скриншот кнопки токенов](/assets/developer-button.png)
   ![Скриншот кнопки сгенерировать ключ](/assets/generate-key-button.png)
   Обратите внимание, что токен должен давать права для чтения `Contents`.
   Также не забудьте скопировать сам токен, он нам понадобится.
5. Теперь нужно создать секрет для репозитория, в котором будет лежать тот самый токен (это нужно чтобы ваш приватный репозиторий можно было использовать в автотестах). **ВНИМАНИЕ!** секрет должен называться `READ_PAT`, иначе ничего не заработает.
   ![Скриншот кнопки настроек](/assets/rep-settings.png)
   ![Скриншот кнопки секреты и переменные](/assets/rep-secrets.png)
   ![Скриншот кнопки действия](/assets/rep-secrets-actions.png)
   ![Скриншот кнопки создать секрет](/assets/new-secret.png)
6. Осталось добавить несколько переменных, для корректной работы автотестов:

   ```shell
    HANDLE - ник (handle) на github.com к которому привязан ваш репозиторий (Например: AlexeyZarechnev)
    LAST_NAME - фамилия маленькими латинскими буквами (Например: 'zarechnev')
    REPOSITORY_NAME - название вашего репозитория с решениями, то, как вы назвали на github (Например: 'java-advanced')
    TEST_REPOSITORY_NAME - название репозитория с тестами (Например: 'java-advanced-2025')
   ```

   ![Скриншот кнопки переменные](/assets/vars-button.png)
   ![Скриншот кнопки создать переменную](/assets/create-vars.png)

## Использование

Чтобы запустить тесты вам нужно запустить единственный доступный [workflow](https://docs.github.com/en/actions/writing-workflows/about-workflows) во вкладке actions и указать нужные параметры. Окошко с выбором домашек будет пополняться, по мере продвижения курса. **ВАЖНО** следите за тем, что корректно указываете модификацию и <ins>НАЗВАНИЕ</ins> класса, а не полное имя.